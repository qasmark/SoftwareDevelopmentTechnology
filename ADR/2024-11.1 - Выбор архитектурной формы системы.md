**Дата:** *18 ноября 2024 г*.

**Статус:** Принято

**Контекст**

При разработке платформы системы навигации мы стоим перед выбором архитектурной формы системы. Нам необходимо учесть масштабируемость, надежность, скорость разработки и возможность быстро вносить изменения.

**Рассмотренные варианты:**

1. **Модульный монолит:** Одно приложение, разделенное на модули, каждый из которых отвечает за определенную функциональность.
2. **Микросервисы:** Разделение системы на независимые сервисы, которые взаимодействуют между собой посредством API.
3. **Серверлесс:** Архитектура, при которой разработчикам не требуется управлять серверами, а код выполняется в ответ на события.


**Решение:**

Выбрана **микросервисная архитектура**

**Обоснование:**

* Масштабируемость (SCA01, SCA03): Система должна обрабатывать данные от 10 000 устройств с возможностью роста до 100 000. Микросервисы позволяют масштабировать отдельные компоненты независимо друг от друга в зависимости от нагрузки, что критически важно для обработки большого количества устройств.

* Производительность (PER01, PER04): Микросервисы позволяют оптимизировать производительность за счет разделения функциональности и использования подходящих технологий для каждого сервиса. Например, сервис обработки геолокационных данных может быть оптимизирован для быстрой обработки и хранения пространственных данных (PER01), а сервис авторизации может быть оптимизирован для обработки большого количества запросов (PER04).

* Безопасность (SEC03, SEC07): Микросервисы позволяют изолировать данные и функции, что повышает уровень безопасности. Каждый сервис может иметь свои собственные механизмы аутентификации и авторизации (SEC03), а данные могут храниться в соответствии с высокими стандартами безопасности (SEC07).

* Доступность (AVA02): Использование микросервисов позволяет повысить отказоустойчивость системы за счет резервирования отдельных сервисов (AVA02).

* Гибкость в выборе технологий: Различные микросервисы могут быть реализованы на разных языках программирования и с использованием разных технологий, что позволяет выбирать наиболее подходящие инструменты для каждой задачи.

* Независимость развертывания: Каждый микросервис может быть развернут независимо, что упрощает процесс обновления и снижает риски.

**Недостатки решения:**

* Сложность управления (MON01, MON02): Управление большим количеством микросервисов требует развитой системы мониторинга и логирования (MON01, MON02) и может быть более сложным, чем управление монолитным приложением.

* Сетевые задержки: Взаимодействие между микросервисами происходит по сети, что может привести к задержкам, влияя на производительность (PER01).

* Сложность тестирования: Тестирование микросервисов требует тестирования взаимодействия между сервисами, что может быть более сложным, чем тестирование монолита.

* Увеличение затрат на инфраструктуру (LIM01): Микросервисная архитектура может потребовать дополнительных ресурсов на инфраструктуру (LIM01) по сравнению с монолитом.

**Последствия:**

* Необходимость разработки системы мониторинга (MON01, MON02): Для обеспечения надежности и доступности системы потребуется внедрение системы мониторинга и оповещения о сбоях (MON01, MON02).

* Разработка системы логирования (SEC04): Для аудита операций с данными о местоположении необходимо реализовать систему логирования (SEC04).

* Разработка инфраструктуры для развертывания и управления микросервисами: Потребуется автоматизация развертывания и управления микросервисами.

* Тщательное проектирование API: Для обеспечения эффективного взаимодействия между микросервисами необходимо тщательно спроектировать API.