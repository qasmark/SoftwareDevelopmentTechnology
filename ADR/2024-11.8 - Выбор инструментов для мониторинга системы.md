**Дата:** *25 ноября 2024 г*.

**Статус:** Принято

**Контекст**

Выбор инструментов мониторинга для системы геолокации критически важен для обеспечения стабильности, производительности и доступности сервиса. Система мониторинга должна собирать метрики, отслеживать логи, оповещать о инцидентах и предоставлять инструменты для анализа данных. Учитывая, что серверная часть разрабатывается на Go, а клиентская - на Flutter, важно выбрать инструменты, которые хорошо интегрируются с этими технологиями.

**Рассмотренные варианты:**

1. **Prometheus + Grafana:** Сочетание системы сбора метрик Prometheus и платформы визуализации Grafana.

2. **Zabbix:** Мониторинг с использованием агентов.

3. **Icinga:** Система мониторинга с фокусом на доступность.

4. **Elasticsearch/Logstash/Kibana (ELK):** Стек для централизованного логирования и анализа.

**Решение:**

Выбрана комбинация **Prometheus + Grafana + ELK.**

**Обоснование:**

* Prometheus + Grafana (MON01): Prometheus отлично подходит для сбора метрик производительности с Go-приложений. Grafana предоставляет мощные инструменты визуализации для создания информативных дашбордов. Это сочетание дает нам гибкость и масштабируемость, необходимые для мониторинга распределенной системы.

* Сравнение с Zabbix: Zabbix требует установки агентов, что может быть неудобно в некоторых случаях. Prometheus использует pull-модель сбора метрик, что более гибко и масштабируемо.

* Сравнение с Icinga: Icinga больше ориентирована на мониторинг доступности, а не на сбор метрик производительности.

* ELK (MON02): ELK позволяет централизованно собирать и анализировать логи с серверов и клиентских приложений. Это помогает в выявлении ошибок и анализе поведения пользователей. Logstash может быть настроен для обработки логов из различных источников, включая Go-приложения и Flutter-приложения.

* Сравнение с другими: Хотя Prometheus и Grafana могут собирать логи, ELK предоставляет более мощные инструменты для их анализа и поиска.

**Недостатки решения:**

* Сложность настройки: Настройка Prometheus, Grafana и ELK может потребовать времени и усилий.

* Управление инфраструктурой: Для работы Prometheus, Grafana и ELK потребуется дополнительная инфраструктура.

**Последствия:**

1. Настройка Prometheus для сбора метрик с Go-приложений и Flutter-приложений.

2. Настройка Grafana для визуализации метрик.

3. Настройка ELK для сбора и анализа логов.

4. Обучение команды работе с выбранными инструментами.
