[[2024-11.2 - Выбор технологии программирования серверной части]]
[[2024-11.5 Выбор протокола обмена данными между клиентом и сервером]]


**Дата:** *19 ноября 2024 г*.

**Статус:** Принято

**Контекст**

Выбор технологии для клиентского приложения системы геолокации определит производительность, удобство использования, кроссплатформенную поддержку и интеграцию с серверной частью (Go). Приложение должно эффективно работать с геолокацией, отображать карты, обеспечивать плавную работу интерфейса и иметь доступ к аппаратным ресурсам устройства.

**Рассмотренные варианты:**

1. **Flutter (Dart):** Кроссплатформенный фреймворк от Google.

2. **React Native (JavaScript):** Кроссплатформенный фреймворк от Meta.

3. **Kotlin Multiplatform Mobile (KMM) (Kotlin):** SDK от JetBrains.

4. **NativeScript (JavaScript/TypeScript):** Фреймворк для нативных приложений.

5. **Xamarin (C#):** Кроссплатформенный фреймворк от Microsoft.

**Решение:**

Выбран **Flutter.**

**Обоснование:**

* Производительность (PER02, PER06): Flutter демонстрирует высокую производительность благодаря собственному движку рендеринга и компиляции в нативный код. Это важно для плавного обновления местоположения на карте (PER02) и быстрой загрузки карты (PER06). React Native, хотя и популярен, может уступать Flutter в производительности, особенно в сложных сценах. NativeScript еще более склонны к проблемам с производительностью. Xamarin, хотя и компилируется в нативный код, может быть менее производительным, чем Flutter, в некоторых сценариях.

* Удобство использования (USA01, USA02): Flutter позволяет создавать красивый и отзывчивый пользовательский интерфейс с богатыми анимациями и виджетами. Это способствует созданию интуитивно понятного интерфейса (USA01) и адаптивного дизайна для разных устройств (USA02). React Native также предлагает хороший UI, но Flutter имеет преимущества в производительности и гибкости кастомизации.

* Кроссплатформенная разработка:  Flutter позволяет создавать приложения для iOS и Android из одной кодовой базы, что уменьшает время и затраты на разработку. React Native также кроссплатформенный, но Flutter предлагает более близкий к нативному пользовательский опыт. KMM - хороший вариант, но его экосистема меньше, чем у Flutter. NativeScript и Xamarin также кроссплатформенные, но уступают Flutter в производительности.

* Оптимизированное использование ресурсов: Flutter позволяет создавать приложения, которые эффективно используют ресурсы устройства, что важно для экономии заряда батареи и мобильного трафика.

* Доступ к нативным функциям: Flutter предоставляет доступ к нативным API и функциям устройства, таким как GPS, что важно для работы с геолокацией.

**Недостатки решения:**

* Относительно молодой фреймворк: Flutter моложе, чем React Native, поэтому сообщество и количество доступных библиотек меньше.

* Необходимость изучения Dart: Разработчикам может потребоваться время на изучение языка Dart.

* Много "магии": Dart имеет много "синтаксического сахара" и скрытых механизмов, что может затруднить понимание кода.

* Неоднозначность: В некоторых случаях в Dart есть несколько способов решить одну и ту же задачу, что может приводить к неоднородности кода.

**Последствия:**

* Возможные сложности с интеграцией некоторых нативных библиотек: Может потребоваться дополнительная работа для интеграции специфических нативных библиотек.

* Кривая обучения Dart: Разработчикам потребуется время на изучение Dart.

* Оптимизация размера приложения: Может потребоваться оптимизация размера приложения, особенно для устройств с ограниченной памятью.

* Выбор Flutter означает, что клиент и сервер будут разрабатываться на разных языках (Dart и Go), что может усложнить обмен данными и поддержку проекта. Однако, использование gRPC может смягчить эту проблему.